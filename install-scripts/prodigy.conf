upstream app {
  server localhost:3000 fail_timeout=20s;
  keepalive 32;
}

upstream prodigyimages {
  server localhost:8090  fail_timeout=20s;
  keepalive 32;
}

upstream layoutanalysis01 {
  server localhost:8010  fail_timeout=20s;
  keepalive 32;
}

upstream layoutanalysis02 {
  server localhost:8020  fail_timeout=20s;
  keepalive 32;
}

upstream layoutanalysis03 {
  server localhost:8030  fail_timeout=20s;
  keepalive 32;
}

upstream linetotext {
  server localhost:8040 fail_timeout=20s;
  keepalive 32;
}

upstream linetotextga {
  server localhost:8041 fail_timeout=20s;
  keepalive 32;
}

upstream linetotextgb {
  server localhost:8042 fail_timeout=20s;
  keepalive 32;
}

upstream reviewlayoutannotation {
  server localhost:8060 fail_timeout=20s;
  keepalive 32;
}

upstream stt_ab {
  server localhost:8110 fail_timeout=20s;
  keepalive 32;
}
upstream stt_ab_ga_review {
  server localhost:8111 fail_timeout=20s;
  keepalive 32;
}
upstream stt_ab_ga {
  server localhost:8112 fail_timeout=20s;
  keepalive 32;
}
upstream stt_ab_gb_review {
  server localhost:8113 fail_timeout=20s;
  keepalive 32;
}
upstream stt_ab_gb {
  server localhost:8114 fail_timeout=20s;
  keepalive 32;
}
upstream stt_ab_gc_review {
  server localhost:8115 fail_timeout=20s;
  keepalive 32;
}
upstream stt_ab_gc {
  server localhost:8116 fail_timeout=20s;
  keepalive 32;
}
upstream stt_ab_gd_review {
  server localhost:8117 fail_timeout=20s;
  keepalive 32;
}
upstream stt_ab_gd {
  server localhost:8118 fail_timeout=20s;
  keepalive 32;
}
upstream stt_ab_ge_review {
  server localhost:8119 fail_timeout=20s;
  keepalive 32;
}
upstream stt_ab_ge {
  server localhost:8220 fail_timeout=20s;
  keepalive 32;
}
upstream stt_ab_gf_review {
  server localhost:8221 fail_timeout=20s;
  keepalive 32;
}
upstream stt_ab_gf {
  server localhost:8222 fail_timeout=20s;
  keepalive 32;
}
upstream stt_ab_gg_review {
  server localhost:8223 fail_timeout=20s;
  keepalive 32;
}
upstream stt_ab_gg {
  server localhost:8224 fail_timeout=20s;
  keepalive 32;
}
upstream stt_ab_gh_review {
  server localhost:8225 fail_timeout=20s;
  keepalive 32;
}
upstream stt_ab_gh {
  server localhost:8226 fail_timeout=20s;
  keepalive 32;
}
upstream stt_cs {
  server localhost:8120 fail_timeout=20s;
  keepalive 32;
}

upstream stt_cs_gb {
  server localhost:8121 fail_timeout=20s;
  keepalive 32;
}

upstream stt_cs_gc {
  server localhost:8122 fail_timeout=20s;
  keepalive 32;
}

upstream stt_cs_gd {
  server localhost:8123 fail_timeout=20s;
  keepalive 32;
}

upstream stt_cs_ge {
  server localhost:8124 fail_timeout=20s;
  keepalive 32;
}

upstream stt_cs_gf {
  server localhost:8125 fail_timeout=20s;
  keepalive 32;
}

upstream stt_mv_ga {
  server localhost:8131 fail_timeout=20s;
  keepalive 32;
}

upstream stt_mv_gb {
  server localhost:8132 fail_timeout=20s;
  keepalive 32;
}

upstream stt_mv_gc {
  server localhost:8133 fail_timeout=20s;
  keepalive 32;
}

upstream stt_mv_gd {
  server localhost:8134 fail_timeout=20s;
  keepalive 32;
}

upstream stt_tt_ga {
  server localhost:8151 fail_timeout=20s;
  keepalive 32;
}

upstream stt_tt_gb {
  server localhost:8152 fail_timeout=20s;
  keepalive 32;
}

upstream stt_tt_gc {
  server localhost:8153 fail_timeout=20s;
  keepalive 32;
}

upstream stt_tt_gd {
  server localhost:8154 fail_timeout=20s;
  keepalive 32;
}

upstream stt_tt_ge {
  server localhost:8155 fail_timeout=20s;
  keepalive 32;
}

upstream stt_tt_gf {
  server localhost:8156 fail_timeout=20s;
  keepalive 32;
}

upstream stt_tt_gg {
  server localhost:8157 fail_timeout=20s;
  keepalive 32;
}
upstream stt_tt_gh {
  server localhost:8158 fail_timeout=20s;
  keepalive 32;
}

upstream stt_cs_review {
  server localhost:8160 fail_timeout=20s;
  keepalive 32;
}

upstream stt_cs_gb_review {
  server localhost:8161 fail_timeout=20s;
  keepalive 32;
}

upstream stt_cs_gc_review {
  server localhost:8162 fail_timeout=20s;
  keepalive 32;
}

upstream stt_cs_gd_review {
  server localhost:8163 fail_timeout=20s;
  keepalive 32;
}

upstream stt_cs_ge_review {
  server localhost:8164 fail_timeout=20s;
  keepalive 32;
}

upstream stt_cs_gf_review {
  server localhost:8165 fail_timeout=20s;
  keepalive 32;
}

upstream stt_mv_ga_review {
  server localhost:8171 fail_timeout=20s;
  keepalive 32;
}

upstream stt_mv_gb_review {
  server localhost:8172 fail_timeout=20s;
  keepalive 32;
}

upstream stt_mv_gc_review {
  server localhost:8173 fail_timeout=20s;
  keepalive 32;
}

upstream stt_mv_gd_review {
  server localhost:8174 fail_timeout=20s;
  keepalive 32;
}

upstream stt_ns_ga_review {
  server localhost:8186 fail_timeout=20s;
  keepalive 32;
}
upstream stt_ns_ga {
  server localhost:8187 fail_timeout=20s;
  keepalive 32;
}

upstream stt_ns_gb {
  server localhost:8183 fail_timeout=20s;
  keepalive 32;
}
upstream stt_ns_gb_review {
  server localhost:8182 fail_timeout=20s;
  keepalive 32;
}
upstream stt_ns_gc {
  server localhost:8185 fail_timeout=20s;
  keepalive 32;
}
upstream stt_ns_gc_review {
  server localhost:8184 fail_timeout=20s;
  keepalive 32;
}

upstream stt_tt_ga_review {
  server localhost:8191 fail_timeout=20s;
  keepalive 32;
}

upstream stt_tt_gb_review {
  server localhost:8192 fail_timeout=20s;
  keepalive 32;
}

upstream stt_tt_gc_review {
  server localhost:8193 fail_timeout=20s;
  keepalive 32;
}

upstream stt_tt_gd_review {
  server localhost:8194 fail_timeout=20s;
  keepalive 32;
}

upstream stt_tt_ge_review {
  server localhost:8195 fail_timeout=20s;
  keepalive 32;
}

upstream stt_tt_gf_review {
  server localhost:8196 fail_timeout=20s;
  keepalive 32;
}

upstream stt_tt_gg_review {
  server localhost:8197 fail_timeout=20s;
  keepalive 32;
}
upstream stt_tt_gh_review {
  server localhost:8198 fail_timeout=20s;
  keepalive 32;
}

server {
    listen 80;

    # listen 443 ssl;
    # ssl_certificate      /etc/letsencrypt/live/prodigy.bdrc.io/fullchain.pem;
    # ssl_certificate_key  /etc/letsencrypt/live/prodigy.bdrc.io/privkey.pem;
    # include ssl_params;

    server_name prodigy.bdrc.io ;

    location / {
        proxy_pass http://app/;
        proxy_http_version   1.1;
        proxy_redirect       off;
        proxy_set_header  Connection         "";
        proxy_set_header  Host               $host;
        proxy_set_header  X-Real-IP          $remote_addr;
        proxy_set_header  X-Forwarded-For    $proxy_add_x_forwarded_for;
        proxy_set_header  X-Forwarded-Proto  $scheme;
    }

    location /crop_images/ {
        proxy_pass http://prodigyimages/;
        proxy_http_version   1.1;
        proxy_redirect       off;
        proxy_set_header  Connection         "";
        proxy_set_header  Host               $host;
        proxy_set_header  X-Real-IP          $remote_addr;
        proxy_set_header  X-Forwarded-For    $proxy_add_x_forwarded_for;
        proxy_set_header  X-Forwarded-Proto  $scheme;
    }
    location /layout_analysis_01/ {
        proxy_pass http://layoutanalysis01/;
        proxy_http_version 1.1;
        proxy_redirect off;
        proxy_set_header Connection "";
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }
    location /layout_analysis_02/ {
        proxy_pass http://layoutanalysis02/;
        proxy_http_version 1.1;
        proxy_redirect off;
        proxy_set_header Connection "";
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }
    location /layout_analysis_03/ {
        proxy_pass http://layoutanalysis03/;
        proxy_http_version 1.1;
        proxy_redirect off;
        proxy_set_header Connection "";
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }
    location /line_to_text/ {
        proxy_pass http://linetotext/;
        proxy_http_version 1.1;
        proxy_redirect off;
        proxy_set_header Connection "";
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }
    location /line_to_text_ga/ {
        proxy_pass http://linetotextga/;
        proxy_http_version 1.1;
        proxy_redirect off;
        proxy_set_header Connection "";
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }
    location /line_to_text_gb/ {
        proxy_pass http://linetotextgb/;
        proxy_http_version 1.1;
        proxy_redirect off;
        proxy_set_header Connection "";
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }
    location /review_layout_annotation/ {
        proxy_pass http://reviewlayoutannotation/;
        proxy_http_version 1.1;
        proxy_redirect off;
        proxy_set_header Connection "";
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }
    location /stt_ab_ga/ {
        proxy_pass http://stt_ab_ga/;
        proxy_http_version 1.1;
        proxy_redirect off;
        proxy_set_header Connection "";
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }
    location /stt_ab_gb/ {
        proxy_pass http://stt_ab_gb/;
        proxy_http_version 1.1;
        proxy_redirect off;
        proxy_set_header Connection "";
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }
    location /stt_ab_gc/ {
        proxy_pass http://stt_ab_gc/;
        proxy_http_version 1.1;
        proxy_redirect off;
        proxy_set_header Connection "";
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }
    location /stt_ab_gd/ {
        proxy_pass http://stt_ab_gd/;
        proxy_http_version 1.1;
        proxy_redirect off;
        proxy_set_header Connection "";
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }
    location /stt_ab_ge/ {
        proxy_pass http://stt_ab_ge/;
        proxy_http_version 1.1;
        proxy_redirect off;
        proxy_set_header Connection "";
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }
    location /stt_ab_gf/ {
        proxy_pass http://stt_ab_gf/;
        proxy_http_version 1.1;
        proxy_redirect off;
        proxy_set_header Connection "";
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }
    location /stt_ab_gg/ {
        proxy_pass http://stt_ab_gg/;
        proxy_http_version 1.1;
        proxy_redirect off;
        proxy_set_header Connection "";
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }
    location /stt_ab_gh/ {
        proxy_pass http://stt_ab_gh/;
        proxy_http_version 1.1;
        proxy_redirect off;
        proxy_set_header Connection "";
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }
    location /stt_cs/ {
        proxy_pass http://stt_cs/;
        proxy_http_version 1.1;
        proxy_redirect off;
        proxy_set_header Connection "";
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }
    location /stt_cs_gb/ {
        proxy_pass http://stt_cs_gb/;
        proxy_http_version 1.1;
        proxy_redirect off;
        proxy_set_header Connection "";
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }
    location /stt_cs_gc/ {
        proxy_pass http://stt_cs_gc/;
        proxy_http_version 1.1;
        proxy_redirect off;
        proxy_set_header Connection "";
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }
    location /stt_cs_gd/ {
        proxy_pass http://stt_cs_gd/;
        proxy_http_version 1.1;
        proxy_redirect off;
        proxy_set_header Connection "";
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }
    location /stt_cs_ge/ {
        proxy_pass http://stt_cs_ge/;
        proxy_http_version 1.1;
        proxy_redirect off;
        proxy_set_header Connection "";
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }
    location /stt_cs_gf/ {
        proxy_pass http://stt_cs_gf/;
        proxy_http_version 1.1;
        proxy_redirect off;
        proxy_set_header Connection "";
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }
    location /stt_mv_ga/ {
        proxy_pass http://stt_mv_ga/;
        proxy_http_version 1.1;
        proxy_redirect off;
        proxy_set_header Connection "";
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }
    location /stt_mv_gb/ {
        proxy_pass http://stt_mv_gb/;
        proxy_http_version 1.1;
        proxy_redirect off;
        proxy_set_header Connection "";
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }
    location /stt_mv_gc/ {
        proxy_pass http://stt_mv_gc/;
        proxy_http_version 1.1;
        proxy_redirect off;
        proxy_set_header Connection "";
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }
    location /stt_mv_gd/ {
        proxy_pass http://stt_mv_gd/;
        proxy_http_version 1.1;
        proxy_redirect off;
        proxy_set_header Connection "";
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }
    location /stt_ns_ga/ {
        proxy_pass http://stt_ns_ga/;
        proxy_http_version 1.1;
        proxy_redirect off;
        proxy_set_header Connection "";
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }
        location /stt_ab_ga_review/ {
        proxy_pass http://stt_ab_ga_review/;
        proxy_http_version 1.1;
        proxy_redirect off;
        proxy_set_header Connection "";
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }
        location /stt_ab_gb_review/ {
        proxy_pass http://stt_ab_gb_review/;
        proxy_http_version 1.1;
        proxy_redirect off;
        proxy_set_header Connection "";
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }
        location /stt_ab_gc_review/ {
        proxy_pass http://stt_ab_gc_review/;
        proxy_http_version 1.1;
        proxy_redirect off;
        proxy_set_header Connection "";
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }

        location /stt_ab_gd_review/ {
        proxy_pass http://stt_ab_gd_review/;
        proxy_http_version 1.1;
        proxy_redirect off;
        proxy_set_header Connection "";
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }
        location /stt_ab_ge_review/ {
        proxy_pass http://stt_ab_ge_review/;
        proxy_http_version 1.1;
        proxy_redirect off;
        proxy_set_header Connection "";
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }
        location /stt_ab_gf_review/ {
        proxy_pass http://stt_ab_gf_review/;
        proxy_http_version 1.1;
        proxy_redirect off;
        proxy_set_header Connection "";
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }
        location /stt_ab_gg_review/ {
        proxy_pass http://stt_ab_gg_review/;
        proxy_http_version 1.1;
        proxy_redirect off;
        proxy_set_header Connection "";
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }
        location /stt_ab_gh_review/ {
        proxy_pass http://stt_ab_gh_review/;
        proxy_http_version 1.1;
        proxy_redirect off;
        proxy_set_header Connection "";
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }
    location /stt_ns_ga_review/ {
        proxy_pass http://stt_ns_ga_review/;
        proxy_http_version 1.1;
        proxy_redirect off;
        proxy_set_header Connection "";
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }
    location /stt_ns_gb/ {
        proxy_pass http://stt_ns_gb/;
        proxy_http_version 1.1;
        proxy_redirect off;
        proxy_set_header Connection "";
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }
    location /stt_ns_gb_review/ {
        proxy_pass http://stt_ns_gb_review/;
        proxy_http_version 1.1;
        proxy_redirect off;
        proxy_set_header Connection "";
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }
    location /stt_ns_gc/ {
        proxy_pass http://stt_ns_gc/;
        proxy_http_version 1.1;
        proxy_redirect off;
        proxy_set_header Connection "";
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }
    location /stt_ns_gc_review/ {
        proxy_pass http://stt_ns_gc_review/;
        proxy_http_version 1.1;
        proxy_redirect off;
        proxy_set_header Connection "";
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }
    location /stt_tt_ga/ {
        proxy_pass http://stt_tt_ga/;
        proxy_http_version 1.1;
        proxy_redirect off;
        proxy_set_header Connection "";
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }
    location /stt_tt_gb/ {
        proxy_pass http://stt_tt_gb/;
        proxy_http_version 1.1;
        proxy_redirect off;
        proxy_set_header Connection "";
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }
    location /stt_tt_gc/ {
        proxy_pass http://stt_tt_gc/;
        proxy_http_version 1.1;
        proxy_redirect off;
        proxy_set_header Connection "";
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }
    location /stt_tt_gd/ {
        proxy_pass http://stt_tt_gd/;
        proxy_http_version 1.1;
        proxy_redirect off;
        proxy_set_header Connection "";
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }
    location /stt_tt_ge/ {
        proxy_pass http://stt_tt_ge/;
        proxy_http_version 1.1;
        proxy_redirect off;
        proxy_set_header Connection "";
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }
    location /stt_tt_gf/ {
        proxy_pass http://stt_tt_gf/;
        proxy_http_version 1.1;
        proxy_redirect off;
        proxy_set_header Connection "";
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }
    location /stt_tt_gg/ {
        proxy_pass http://stt_tt_gg/;
        proxy_http_version 1.1;
        proxy_redirect off;
        proxy_set_header Connection "";
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }
    location /stt_tt_gh/ {
        proxy_pass http://stt_tt_gh/;
        proxy_http_version 1.1;
        proxy_redirect off;
        proxy_set_header Connection "";
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }
    location /stt_cs_review/ {
        proxy_pass http://stt_cs_review/;
        proxy_http_version 1.1;
        proxy_redirect off;
        proxy_set_header Connection "";
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }
    location /stt_cs_gb_review/ {
        proxy_pass http://stt_cs_gb_review/;
        proxy_http_version 1.1;
        proxy_redirect off;
        proxy_set_header Connection "";
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }
    location /stt_cs_gc_review/ {
        proxy_pass http://stt_cs_gc_review/;
        proxy_http_version 1.1;
        proxy_redirect off;
        proxy_set_header Connection "";
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }
    location /stt_cs_gd_review/ {
        proxy_pass http://stt_cs_gd_review/;
        proxy_http_version 1.1;
        proxy_redirect off;
        proxy_set_header Connection "";
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }
    location /stt_cs_ge_review/ {
        proxy_pass http://stt_cs_ge_review/;
        proxy_http_version 1.1;
        proxy_redirect off;
        proxy_set_header Connection "";
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }
    location /stt_cs_gf_review/ {
        proxy_pass http://stt_cs_gf_review/;
        proxy_http_version 1.1;
        proxy_redirect off;
        proxy_set_header Connection "";
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }
    location /stt_mv_ga_review/ {
        proxy_pass http://stt_mv_ga_review/;
        proxy_http_version 1.1;
        proxy_redirect off;
        proxy_set_header Connection "";
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }
    location /stt_mv_gb_review/ {
        proxy_pass http://stt_mv_gb_review/;
        proxy_http_version 1.1;
        proxy_redirect off;
        proxy_set_header Connection "";
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }
    location /stt_mv_gc_review/ {
        proxy_pass http://stt_mv_gc_review/;
        proxy_http_version 1.1;
        proxy_redirect off;
        proxy_set_header Connection "";
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }
    location /stt_mv_gd_review/ {
        proxy_pass http://stt_mv_gd_review/;
        proxy_http_version 1.1;
        proxy_redirect off;
        proxy_set_header Connection "";
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }
    location /stt_tt_ga_review/ {
        proxy_pass http://stt_tt_ga_review/;
        proxy_http_version 1.1;
        proxy_redirect off;
        proxy_set_header Connection "";
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }
    location /stt_tt_gb_review/ {
        proxy_pass http://stt_tt_gb_review/;
        proxy_http_version 1.1;
        proxy_redirect off;
        proxy_set_header Connection "";
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }
    location /stt_tt_gc_review/ {
        proxy_pass http://stt_tt_gc_review/;
        proxy_http_version 1.1;
        proxy_redirect off;
        proxy_set_header Connection "";
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }
 
    location /stt_tt_gd_review/ {
        proxy_pass http://stt_tt_gd_review/;
        proxy_http_version 1.1;
        proxy_redirect off;
        proxy_set_header Connection "";
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }
    location /stt_tt_ge_review/ {
        proxy_pass http://stt_tt_ge_review/;
        proxy_http_version 1.1;
        proxy_redirect off;
        proxy_set_header Connection "";
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }
    location /stt_tt_gf_review/ {
        proxy_pass http://stt_tt_gf_review/;
        proxy_http_version 1.1;
        proxy_redirect off;
        proxy_set_header Connection "";
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }
    location /stt_tt_gg_review/ {
        proxy_pass http://stt_tt_gg_review/;
        proxy_http_version 1.1;
        proxy_redirect off;
        proxy_set_header Connection "";
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }
    location /stt_tt_gh_review/ {
        proxy_pass http://stt_tt_gh_review/;
        proxy_http_version 1.1;
        proxy_redirect off;
        proxy_set_header Connection "";
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }
    
    include acmechallenge.conf;

    gzip_min_length     1000;
    gzip_buffers        4 8k;
    gzip_types          text/plain text/css;
    gzip_vary           on;
    gzip on ;

    proxy_set_header Host              $http_host;
    proxy_set_header X-Forwarded-For   $remote_addr;
    proxy_set_header X-Forwarded-Proto $scheme;
}
